(this["webpackJsonprecipes-app"]=this["webpackJsonprecipes-app"]||[]).push([[0],{103:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(74),c=n.n(r),s=(n(90),n(36)),l=n(2),o=n(3),m=n(5),d=n(4),u=n(39),p=(n(91),n(92),n(95),n(75)),g=n(105),h=n(13),f=n(7),b=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return i.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},i.a.createElement(h.b,{to:"/",className:"navbar-brand"},"Recipe Bookeessss"),i.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},i.a.createElement("span",{className:"navbar-toggler-icon"})),i.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},i.a.createElement("ul",{className:"navbar-nav mr-auto"},i.a.createElement("li",{className:"nav-item active"},i.a.createElement(h.c,{to:"/recipes",className:"nav-link"},"Recipes")),i.a.createElement("li",{className:"nav-item"},i.a.createElement(h.c,{to:"/shopping-list",className:"nav-link"},"Shopping List")))))}}]),n}(a.Component),v=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).handleOnClick=function(){(0,e.props.setSelectingRecipeID)("")},e}return Object(o.a)(n,[{key:"render",value:function(){return i.a.createElement("div",{className:"py-4 px-2 border-bottom text-left"},i.a.createElement(h.b,{to:"/recipes/create-new-recipes",onClick:this.handleOnClick},i.a.createElement("button",{className:"btn btn-success"},"New Recipe")))}}]),n}(a.Component),E=n(76),I=n(77);function N(){var e=Object(E.a)(["\n  max-width: 6rem;\n"]);return N=function(){return e},e}var y=Object(I.a)((function(e){var t=e.imageURL,n=e.description,a=e.className;return i.a.createElement("img",{src:t,className:"align-self-center mr-3 img-thumbnail ".concat(a),alt:n})}))(N()),O=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).handleSelectRecipe=function(t){var n=e.props,a=n.history;(0,n.setSelectingRecipeID)(t),a.push("/recipes/recipe-detail/".concat(t))},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.recipeID,a=t.name,r=t.description,c=t.imageURL,s=t.isActive;return i.a.createElement("li",{className:"list-group-item ".concat(s?"active":""),onClick:function(){return e.handleSelectRecipe(n)}},i.a.createElement("div",{className:"media"},i.a.createElement("div",{className:"media-body text-left"},i.a.createElement("h5",{className:"mt-0"},a),i.a.createElement("p",{className:"text-truncate d-inline-block",style:{maxWidth:"15rem"}},r)),i.a.createElement(y,{imageURL:c,description:r})))}}]),n}(a.Component),j=Object(f.g)(O),R=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.recipesList,n=e.setSelectingRecipeID,a=e.selectingRecipeID;return i.a.createElement("ul",{className:"list-group mt-4"},t.map((function(e){return i.a.createElement(j,{key:e.id,recipeID:e.id,name:e.name,description:e.description,imageURL:e.imageURL,setSelectingRecipeID:n,isActive:a===e.id})})))}}]),n}(a.Component),w=Object(f.g)(R),S=n(70),L=n.n(S),D=n(81),k=n(10),x=function(e){var t=e.children,n=e.htmlFor;return i.a.createElement("label",{htmlFor:n,className:"font-weight-bold"},t)},C=n(18),q=C.c().shape({name:C.d().required(),imageURL:C.d().required(),description:C.d().required(),ingredients:C.a().of(C.c().shape({name:C.d().required(),quantity:C.b().required()}))}),U=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(e){var a;Object(l.a)(this,n),(a=t.call(this,e)).initialValues=void 0,a.defaultInitialValues=void 0,a.previewImage=void 0,a.handleCancelForm=function(){a.props.history.push("/recipes")},a.handleSubmitForm=function(e,t){var n=a.props,i=n.history,r=n.createNewRecipe,c=n.updateRecipe;r&&r(e),c&&c(e),t.resetForm(),i.push("/recipes")},a.validateImageURL=function(){var e=Object(D.a)(L.a.mark((function e(t){var n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=new Promise((function(e,n){a.previewImage.onload=e,a.previewImage.onerror=n,a.previewImage.src=t})),e.next=4,n;case 4:e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return","Invalid image URL");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),a.defaultInitialValues={id:"",name:"",description:"",imageURL:"",ingredients:[]},a.previewImage=new Image;var i=a.props,r=i.match,c=i.recipesList;if(r.params&&r.params.recipeID&&c){var s=r.params.recipeID,o=c.find((function(e){return e.id===s}));a.initialValues=o||a.defaultInitialValues}else a.initialValues=a.defaultInitialValues;return a}return Object(o.a)(n,[{key:"render",value:function(){var e=this;return i.a.createElement(k.d,{initialValues:this.initialValues,onSubmit:this.handleSubmitForm,validationSchema:q},(function(t){var n=t.handleSubmit,a=t.values,r=t.errors;return i.a.createElement("form",{onSubmit:n},i.a.createElement("div",{className:"form-group"},i.a.createElement("button",{type:"submit",className:"btn btn-success mr-3"},"Save"),i.a.createElement("button",{className:"btn btn-danger",onClick:e.handleCancelForm},"Cancel")),i.a.createElement("div",{className:"form-group"},i.a.createElement(x,{htmlFor:"recipeName"}," Name"),i.a.createElement(k.b,{type:"text",name:"name",className:"form-control",placeholder:"Name",id:"recipeName"}),i.a.createElement(k.a,{name:"name",render:function(e){return i.a.createElement("div",{className:"text-danger"},e)}})),i.a.createElement("div",{className:"form-group"},i.a.createElement(x,{htmlFor:"recipeImageURL"}," Image URL"),i.a.createElement(k.b,{type:"text",name:"imageURL",className:"form-control",placeholder:"Image URL",id:"recipeImageURL",validate:e.validateImageURL}),i.a.createElement(k.a,{name:"imageURL",render:function(e){return i.a.createElement("div",{className:"text-danger"},e)}}),!r.imageURL&&a.imageURL?i.a.createElement("div",{className:"mt-3"},i.a.createElement("img",{src:a.imageURL,className:"img-thumbnail",style:{maxWidth:"10rem"},alt:a.description})):null),i.a.createElement("div",{className:"form-group"},i.a.createElement(x,{htmlFor:"recipeDescription"}," Description"),i.a.createElement(k.b,{as:"textarea",rows:10,name:"description",className:"form-control",placeholder:"Description",id:"recipeDescription"}),i.a.createElement(k.a,{name:"description",render:function(e){return i.a.createElement("div",{className:"text-danger"},e)}})),i.a.createElement(k.c,{name:"ingredients",render:function(e){var t;return i.a.createElement("div",{className:"mt-4"},a.ingredients.length?null===(t=a.ingredients)||void 0===t?void 0:t.map((function(t,n){return i.a.createElement("div",{className:"row mb-2",key:n},i.a.createElement("div",{className:"col-md-8"},i.a.createElement(k.b,{type:"text",name:"ingredients[".concat(n,"].name"),className:"form-control",placeholder:"name"}),i.a.createElement(k.a,{name:"ingredients[".concat(n,"].name"),render:function(){return i.a.createElement("div",{className:"text-danger"},"ingredient name is required")}})),i.a.createElement("div",{className:"col-md-3"},i.a.createElement(k.b,{type:"text",placeholder:"quantity",name:"ingredients.".concat(n,".quantity"),className:"form-control"}),i.a.createElement(k.a,{name:"ingredients.".concat(n,".quantity"),render:function(e){return i.a.createElement("div",{className:"text-danger"},e)}})),i.a.createElement("div",{className:"col-md-1"},i.a.createElement("button",{className:"btn btn-danger",onClick:function(){e.remove(n)}},"X")))})):null,i.a.createElement("div",{className:"mt-4"},i.a.createElement("button",{className:"btn btn-success",onClick:function(){return e.push({name:"",quantity:""})}},"Add Ingredient")))}}))}))}}]),n}(a.Component),A=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.id,n=e.name,a=e.quantity,r=e.isActive,c=e.handleOnClick;return i.a.createElement("li",{className:"list-group-item ".concat(r?"active":""),onClick:function(){c&&c(t)}},c?"".concat(n," (").concat(a,")"):"".concat(n," - ").concat(a))}}]),n}(a.Component),V=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.ingredients,n=e.setSelectingIngredientID,a=e.selectingIngredientID;return i.a.createElement("ul",{className:"list-group"},t.map((function(e){return i.a.createElement(A,{id:e.id,name:e.name,quantity:e.quantity,isActive:a===e.id,handleOnClick:n})})))}}]),n}(a.Component),F=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).handleAddIngredients=function(t){e.props.addIngredients.apply(void 0,Object(s.a)(t))},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.recipesList,r=t.deleteRecipe,c=t.match.params.recipeID||"",s=n.find((function(e){return e.id===c}));return i.a.createElement(a.Fragment,null,s?i.a.createElement("div",null,i.a.createElement("div",{className:"text-center"},i.a.createElement("img",{src:s.imageURL,alt:s.description,className:"img-thumbnail",style:{maxWidth:"15rem"}})),i.a.createElement("h1",null,s.name),i.a.createElement("p",null,s.description),i.a.createElement("div",{className:"dropdown"},i.a.createElement("button",{className:"btn btn-primary dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Manage Recipe"),i.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton"},i.a.createElement("div",{className:"dropdown-item",onClick:function(){return e.handleAddIngredients(s.ingredients)}},"To Shopping List"),i.a.createElement(h.b,{className:"dropdown-item",to:"/recipes/update-recipe/".concat(s.id)},"Edit Recipe"),i.a.createElement("div",{className:"dropdown-item",onClick:function(){r(c)}},"Delete Recipe")),i.a.createElement("div",{className:"mt-4"},i.a.createElement(V,{ingredients:s.ingredients})))):null)}}]),n}(a.Component),M=function(){return i.a.createElement("h1",{className:"text-center mt-4"},"Please select a recipe!")},P=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.recipesList,n=e.createNewRecipe,a=e.updateRecipe,r=e.deleteRecipe,c=e.setSelectingRecipeID,s=e.selectingRecipeID,l=e.addIngredients;return i.a.createElement("main",null,i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-5"},i.a.createElement(v,{setSelectingRecipeID:c}),i.a.createElement(w,{recipesList:t,setSelectingRecipeID:c,selectingRecipeID:s})),i.a.createElement("div",{className:"col-md-7"},i.a.createElement("div",{className:"p-4"},i.a.createElement(f.d,null,i.a.createElement(f.b,{path:"/recipes/recipe-detail/:recipeID",render:function(e){return i.a.createElement(F,Object.assign({recipesList:t,deleteRecipe:r,addIngredients:l},e))}}),i.a.createElement(f.b,{path:"/recipes/update-recipe/:recipeID",render:function(e){return i.a.createElement(U,{match:e.match,history:e.history,location:e.location,recipesList:t,updateRecipe:a})}}),i.a.createElement(f.b,{path:"/recipes/create-new-recipes",render:function(e){return i.a.createElement(U,{match:e.match,history:e.history,location:e.location,createNewRecipe:n})}}),i.a.createElement(f.b,{path:"/recipes",component:M})))))))}}]),n}(a.Component),W=C.c().shape({name:C.d().required(),quantity:C.b().required()}),B=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(e){var a;Object(l.a)(this,n),(a=t.call(this,e)).initialValues=void 0,a.defaultInitialValues=void 0,a.componentWillReceiveProps=function(){var e=a.props,t=e.match,n=e.ingredientsList,i=t.params.ingredientID,r=n.find((function(e){return e.id===i}));a.initialValues=r||a.defaultInitialValues},a.handleDeleteIngredient=function(){var e=a.props.deleteIngredient;e&&e(a.initialValues.id)},a.handleSubmit=function(e,t){var n=a.props,i=n.updateIngredient,r=n.addIngredients,c=n.setSelectingIngredientID,s=n.history;i&&i(e),r&&r(e),s.push("/shopping-list"),c(""),t.resetForm()},a.defaultInitialValues={name:"",quantity:"",id:""};var i=a.props,r=i.ingredientsList,c=i.updateIngredient,s=i.deleteIngredient,o=i.match;if((c||s)&&o.params&&o.params.ingredientID){var m=o.params.ingredientID,d=r.find((function(e){return e.id===m}));a.initialValues=d||a.defaultInitialValues}else a.initialValues=a.defaultInitialValues;return a}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.addIngredients,a=t.setSelectingIngredientID,r=t.history;return i.a.createElement(k.d,{initialValues:this.initialValues,onSubmit:this.handleSubmit,validationSchema:W,enableReinitialize:!0},(function(t){var c=t.handleSubmit,s=t.setFieldValue;return i.a.createElement("form",{onSubmit:c},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-5"},i.a.createElement("div",{className:"form-group"},i.a.createElement(x,{htmlFor:"ingredientName"},"Name"),i.a.createElement(k.b,{placeholder:"Name",name:"name",id:"ingredientName",className:"form-control"}),i.a.createElement(k.a,{name:"name"},(function(e){return i.a.createElement("span",{className:"text-danger"},e)})))),i.a.createElement("div",{className:"col-md-3"},i.a.createElement("div",{className:"form-group"},i.a.createElement(x,{htmlFor:"ingredientQuantity"},"Amount"),i.a.createElement(k.b,{placeholder:"Amount",name:"quantity",id:"ingredientQuantity",className:"form-control"}),i.a.createElement(k.a,{name:"quantity"},(function(e){return i.a.createElement("span",{className:"text-danger"},e)}))))),i.a.createElement("div",{className:"d-flex"},n?i.a.createElement("button",{type:"submit",className:"btn btn-success"},"Add"):i.a.createElement("span",null,i.a.createElement("button",{type:"submit",className:"btn btn-success"},"Update"),i.a.createElement("button",{className:"btn btn-danger ml-3",type:"button",onClick:function(){e.handleDeleteIngredient(),a(""),r.push("/shopping-list")}},"Delete")),i.a.createElement("button",{className:"btn btn-primary ml-3",type:"button",onClick:function(){s("name",""),s("quantity","")}},"Clear")))}))}}]),n}(a.Component),J=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={selectingIngredientID:""},e.setSelectingIngredientID=function(t){var n=e.props.history;e.setState({selectingIngredientID:t}),t&&n.push("/shopping-list/edit-ingredient/".concat(t))},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.ingredientsList,a=t.addIngredients,r=t.deleteIngredient,c=t.updateIngredient;return i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"p-4 border-bottom"},i.a.createElement(f.b,{path:"/shopping-list/new-ingredient",render:function(t){return i.a.createElement(B,Object.assign({ingredientsList:n,addIngredients:a,setSelectingIngredientID:e.setSelectingIngredientID},t))}}),i.a.createElement(f.b,{path:"/shopping-list/edit-ingredient/:ingredientID",render:function(t){return i.a.createElement(B,Object.assign({ingredientsList:n,updateIngredient:c,deleteIngredient:r,setSelectingIngredientID:e.setSelectingIngredientID},t))}}),i.a.createElement(f.b,{path:"/shopping-list",exact:!0,render:function(){return i.a.createElement(f.a,{to:"/shopping-list/new-ingredient"})}})),i.a.createElement("div",{className:"pt-4"},i.a.createElement(V,{ingredients:n,setSelectingIngredientID:this.setSelectingIngredientID,selectingIngredientID:this.state.selectingIngredientID})))}}]),n}(a.Component),z=function(e){return e.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{id:g.a()})}))},G=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={recipesList:p.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{id:g.a(),ingredients:z(e.ingredients)})})),selectingRecipeID:"",ingredientsList:[]},e.setSelectingRecipeID=function(t){e.setState({selectingRecipeID:t})},e.createNewRecipe=function(t){var n=Object(u.a)(Object(u.a)({},t),{},{id:g.a(),ingredients:z(t.ingredients)});e.setState({recipesList:[].concat(Object(s.a)(e.state.recipesList),[n])})},e.updateRecipe=function(t){var n=Object(s.a)(e.state.recipesList),a=n.findIndex((function(e){return e.id===t.id}));-1!==a&&(n[a]=t),e.setState({recipesList:n})},e.deleteRecipe=function(t){e.setState({recipesList:e.state.recipesList.filter((function(e){return e.id!==t}))})},e.addIngredients=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];e.setState({ingredientsList:[].concat(Object(s.a)(e.state.ingredientsList),Object(s.a)(z(n)))})},e.deleteIngredient=function(t){e.setState({ingredientsList:e.state.ingredientsList.filter((function(e){return e.id!==t}))})},e.updateIngredient=function(t){var n=Object(s.a)(e.state.ingredientsList),a=n.findIndex((function(e){return e.id===t.id}));-1!==a&&(n[a]=t),e.setState({ingredientsList:n})},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.recipesList,a=t.selectingRecipeID,r=t.ingredientsList;return i.a.createElement("div",{className:"App"},i.a.createElement(h.a,null,i.a.createElement(b,null),i.a.createElement(f.b,{path:"/recipes",render:function(t){return i.a.createElement(P,Object.assign({recipesList:n,createNewRecipe:e.createNewRecipe,updateRecipe:e.updateRecipe,deleteRecipe:e.deleteRecipe,setSelectingRecipeID:e.setSelectingRecipeID,selectingRecipeID:a,addIngredients:e.addIngredients},t))}}),i.a.createElement(f.b,{path:"/shopping-list",render:function(t){return i.a.createElement(J,Object.assign({ingredientsList:r,addIngredients:e.addIngredients,updateIngredient:e.updateIngredient,deleteIngredient:e.deleteIngredient},t))}}),i.a.createElement(f.b,{path:"/",exact:!0,render:function(){return i.a.createElement(f.a,{to:"/recipes"})}})))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(G,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},75:function(e){e.exports=JSON.parse('[{"name":"Salmon","description":"Salmon /\u02c8s\xe6m\u0259n/ is the common name for several species of ray-finned fish in the family Salmonidae. Other fish in the same family include trout, char, grayling and whitefish. Salmon are native to tributaries of the North Atlantic (genus Salmo) and Pacific Ocean (genus Oncorhynchus). Many species of salmon have been introduced into non-native environments such as the Great Lakes of North America and Patagonia in South America. Salmon are intensively farmed in many parts of the world","imageURL":"https://ifoodreal.com/wp-content/uploads/2017/05/FG-thai-salmon.jpg","ingredients":[{"name":"Salmon","quantity":2}]},{"name":"Ramen","description":"Ramen (/\u02c8r\u0251\u02d0m\u0259n/) (\u62c9\u9eba, \u30e9\u30fc\u30e1\u30f3, r\u0101men, IPA: [\u027ea\ua71c\u02d0me\u0274]) is a Japanese noodle soup. It consists of Chinese wheat noodles served in a meat or (occasionally) fish-based broth, often flavored with soy sauce or miso, and uses toppings such as sliced pork (\u53c9\u713c, ch\u0101sh\u016b), nori (dried seaweed), menma, and scallions.","imageURL":"https://www.seriouseats.com/images/2013/09/20130910-crispy-pork-miso-ramen-03-2.jpg","ingredients":[{"name":"Ramen","quantity":1},{"name":"Egg","quantity":1},{"name":"Meat","quantity":1}]},{"name":"Egg Roll","description":"Egg rolls are a variety of deep-fried appetizers served in American Chinese restaurants. An egg roll is a cylindrical, savory roll with shredded cabbage, chopped pork, and other fillings inside a thickly-wrapped wheat flour skin, which is fried in hot oil.","imageURL":"https://images.media-allrecipes.com/userphotos/6406632.jpg","ingredients":[{"name":"Egg","quantity":2},{"name":"Onient","quantity":1}]}]')},85:function(e,t,n){e.exports=n(103)},90:function(e,t,n){},95:function(e,t,n){}},[[85,1,2]]]);
//# sourceMappingURL=main.80d29beb.chunk.js.map